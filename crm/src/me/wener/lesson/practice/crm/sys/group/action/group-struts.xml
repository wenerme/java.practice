<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>

    <!--使用regex进行匹配-->
    <constant name="struts.enable.SlashesInActionNames" value="true"/>
    <constant name="struts.mapper.alwaysSelectFullNamespace" value="false"/>
    <constant name="struts.patternMatcher" value="regex"/>

    <package name="groupPackage" extends="struts-default" namespace="/sys/group">

        <default-class-ref class="me.wener.lesson.practice.crm.sys.group.action.GroupAction" />

        <!-- 重定向到默认显示页面 -->
        <action name="/">
            <result type="redirectAction">list</result>
        </action>
        <action name="">
            <result type="redirectAction">/</result>
        </action>

        <!--显示列表-->
        <action name="list/{pageNo}" method="list">
            <result type="dispatcher">/WEB-INF/jsp/sys/group/list.jsp</result>
        </action>
        <action name="list">
            <result type="redirectAction">list/</result>
        </action>

        <!--添加操作-->
        <action name="add" method="add">
            <result name="input">/WEB-INF/jsp/sys/group/add.jsp</result>
            <result type="redirectAction">list</result>
        </action>

        <!--编辑操作-->
        <action name="edit/{id}" method="edit">
            <result name="input">/WEB-INF/jsp/sys/group/add.jsp</result>
            <result type="redirectAction">list</result>
        </action>
        <!--没有id的时候也转到 edit/,应该会显示错误信息-->
        <action name="edit">
            <result type="redirectAction">edit/</result>
        </action>

        <!--最终都会直接跳转到 list 页面的操作-->
        <action name="{action:search}" method="{1}">
            <result type="redirectAction">list</result>
        </action>

        <!--重置搜索条件-->
        <action name="search/reset" method="searchReset">
            <result type="redirectAction">list</result>
        </action>

    </package>

</struts>